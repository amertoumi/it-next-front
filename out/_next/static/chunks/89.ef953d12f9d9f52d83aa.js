(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[89],{KoZO:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return K}));var n=a("nKUr"),c=a("cpVT"),r=a("z7pX"),i=a("xvhg"),s=a("q1tI"),l=a.n(s),o=a("vDqi"),d=a.n(o),j=a("EjJx"),b=a("bBbg");var p={WorkExpApi:function(){var e=Object(s.useState)([]),t=e[0],a=e[1],n=window.localStorage.getItem("authToken"),c=Object(j.a)(n).id,r=b.o+b.M+c;return d.a.get(r).then((function(e){return a(e.data)})),t}},u=a("R/WZ"),O=a("6C/C"),h=a("ok1R"),x=a("rhny"),m=a("Kpcq"),v=a("LvTE"),f=a("ENrC"),g=a("FrwU"),y=a.n(g),w=a("ofer"),N=a("1iKp"),D=a.n(N),C=a("r9w1"),k=a("Z3vd"),I=a("wb2y"),E=a("hQyO"),F=a.n(E),S=a("WUv8"),z=a.n(S),P=a("MPUk"),T=a.n(P),R=a("TdDX"),B=a.n(R);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A=Object(u.a)((function(e){return{root:{width:"100%",marginBottom:"30px"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},accordion:{marginTop:"15px",backgroundColor:"#c2d4d4"},accordionAction:{display:"contents"},disabledInput:{"& .MuiInputBase-root.Mui-disabled":{},marginBottom:"10px"},btnSkills:{color:"#0F1447",backgroundColor:"white",width:"120px",height:"44px",border:"2px solid #0F1447",borderRadius:"30px",opacity:1}}}));function K(){var e=A(),t=l.a.useState([]),a=Object(i.a)(t,2),c=a[0],o=a[1],u=B.a.get("authToken"),g=Object(j.a)(u).id,N=l.a.useState(!0),E=Object(i.a)(N,2),S=E[0],P=E[1],R=l.a.useState(),M=Object(i.a)(R,2),K=(M[0],M[1],l.a.useState(!0)),W=Object(i.a)(K,2),_=(W[0],W[1],function(e){P(!S)});console.log(p);Object(s.useEffect)((function(){!function(){var e=b.o+b.M+g;d.a.get(e).then((function(e){return o(e.data)}))}()}),[]);function q(e){return e.charAt(0).toUpperCase()+e.slice(1)}return Object(n.jsx)("div",{className:e.root,children:c.map((function(t,a){return Object(n.jsxs)(O.a,{className:e.accordion,children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(D.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{className:e.heading,children:[Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:q(t.poste)})})," ","FOR"," ",Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:q(t.entreprise)})})," "]})})}),Object(n.jsx)(m.a,{className:e.details,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(I.a,{className:"mb-2"}),Object(n.jsx)(h.a,{children:Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{className:e.labelInput,children:"Position:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{className:e.disabledInput,label:"",variant:"outlined",value:t.poste||null,disabled:S,size:"small",onChange:function(e){var t=Object(r.a)(c);t[a]=U(U({},c[a]),{},{poste:e.target.value}),o(t)}})}),Object(n.jsx)("div",{children:Object(n.jsx)("label",{className:e.labelInput,children:"Company:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{className:e.disabledInput,label:"",variant:"outlined",value:t.entreprise||"",disabled:S,size:"small",onChange:function(e){var t=Object(r.a)(c);t[a]=U(U({},c[a]),{},{entreprise:e.target.value}),o(t)}})})]}),Object(n.jsxs)(x.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{className:e.labelInput,children:"From:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{className:e.disabledInput,label:"",variant:"outlined",value:t.fromDateFormat||"",disabled:S,size:"small",onChange:function(e){var t=Object(r.a)(c);t[a]=U(U({},c[a]),{},{fromDateFormat:e.target.value}),o(t)}})}),Object(n.jsx)("div",{children:Object(n.jsx)("label",{className:e.labelInput,children:"To:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{className:e.disabledInput,label:"",variant:"outlined",value:t.toDateFormat||"",disabled:S,size:"small",onChange:function(e){var t=Object(r.a)(c);t[a]=U(U({},c[a]),{},{toDateFormat:e.target.value}),o(t)}})})]})]})}),Object(n.jsx)(h.a,{children:Object(n.jsxs)(x.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{className:e.labelInput,children:"Description:"})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{className:e.disabledInput,label:"",variant:"outlined",value:t.description||"",disabled:S,fullWidth:!0,onChange:function(e){var t=Object(r.a)(c);t[a]=U(U({},c[a]),{},{description:e.target.value}),o(t)}})})]})})]})}),Object(n.jsx)(I.a,{}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(x.a,{children:Object(n.jsxs)(k.a,{size:"small",style:{color:"#E94545"},onClick:function(){return function(e){var t=b.o+b.z+e;d()(t,{method:"DELETE",headers:{}}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e.message)}))}(t.id)},children:[Object(n.jsx)(y.a,{}),"Remove"]})}),Object(n.jsxs)(x.a,{children:[Object(n.jsx)(k.a,{variant:"contained",color:"primary",size:"small",className:"mr-2 ml-4",onClick:_,children:S?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T.a,{className:"mr-2"}),"Edit"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(z.a,{className:"mr-2"}),"Cancel"]})}),S?null:Object(n.jsxs)(k.a,{variant:"contained",size:"small",style:{backgroundColor:"green",color:"white"},onClick:function(){return function(e,t){var a=new FormData;a.append("position",c[t].poste),a.append("entreprise",c[t].entreprise),a.append("fromDate",c[t].fromDateFormat),a.append("toDate",c[t].toDateFormat),a.append("description",c[t].description);var n=b.o+b.H+e;fetch(n,{method:"POST",body:a,redirect:"follow"}).then((function(e){return console.log(e)})),P(!0)}(t.id,a)},children:[Object(n.jsx)(F.a,{className:"mr-2"}),"Save"]})]})]})]},t.id)}))})}}}]);